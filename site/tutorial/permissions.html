
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.1">
    
    
      
        <title>Permissions - Simple API Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.9299cb39.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ef6f36e2.min.css">
        
          
          
          <meta name="theme-color" content="#2094f3">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../extra.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#permissions" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Simple API Documentation" class="md-header__button md-logo" aria-label="Simple API Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Simple API Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Permissions
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Simple API Documentation" class="md-nav__button md-logo" aria-label="Simple API Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Simple API Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../installation.html" class="md-nav__link">
        Installation
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../QuickStart.html" class="md-nav__link">
        Quick Start
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      <label class="md-nav__link" for="__nav_4">
        Tutorial
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Tutorial" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Tutorial
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="fields.html" class="md-nav__link">
        Controlling fields
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="multiobjects.html" class="md-nav__link">
        Multiple objects per model
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="filters.html" class="md-nav__link">
        Custom filters
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="actions.html" class="md-nav__link">
        Custom Actions
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
      <a href="permissions.html" class="md-nav__link md-nav__link--active">
        Permissions
      </a>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="validators.html" class="md-nav__link">
        Validators
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="metaschema.html" class="md-nav__link">
        Metaschema
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="pureObjects.html" class="md-nav__link">
        Object without Django model
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      <label class="md-nav__link" for="__nav_5">
        Simple API reference
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Simple API reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Simple API reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../objectTypes.html" class="md-nav__link">
        Objects Reference
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../actionArgs.html" class="md-nav__link">
        Actions Reference
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../security.html" class="md-nav__link">
        Security
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../frontend.html" class="md-nav__link">
        Simple API Admin
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../tests.html" class="md-nav__link">
        Description of tests
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../original_readme.html" class="md-nav__link">
        Original README
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="permissions">Permissions</h1>
<p>The forum now has one obvious problem mentioned above - everyone can do everything. Now it is time to change it. 
Each action in Simple API might include a set of permissions required to pass - if it does not, an error occurs
and the action is not performed.</p>
<p>The permissions should only determine if a user is allowed to execute an action or not based on the user and the
current application state. The input data for the action should not be considered. 
<strong>For rejection on input or saved data use <a href="validators.html">Validators</a></strong></p>
<p>Permissions are shipped as classes. The key part is overriding the <code>permission_statement</code> method:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">django_object.permissions</span> <span class="kn">import</span> <span class="n">DjangoPermission</span>

<span class="k">class</span> <span class="nc">IsAuthenticated</span><span class="p">(</span><span class="n">DjangoPermission</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">permission_statement</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">request</span> <span class="ow">and</span> <span class="n">request</span><span class="o">.</span><span class="n">user</span> <span class="ow">and</span> <span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">is_authenticated</span>
</code></pre></div>
<p>Let's say we now want to create an <code>IsAdmin</code> permission class, which would allow through only those users
which have either <code>is_admin</code> or <code>is_superuser</code> set. This is what we would do:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">django_object.permissions</span> <span class="kn">import</span> <span class="n">IsAuthenticated</span>

<span class="k">class</span> <span class="nc">IsAdmin</span><span class="p">(</span><span class="n">IsAuthenticated</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">permission_statement</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">is_staff</span> <span class="ow">or</span> <span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">is_superuser</span>
</code></pre></div>
<p>You might be wondering why don't we call the <code>permission_statement</code> method of the superclass. One would do
this all the time, therefore Simple API just calls the method of the superclass automatically, based on
the inheritance chain. This saves some boilerplate code and makes the result a bit more readable.</p>
<p>Let's see how to use the permissions in practice. Our forum API enhanced with the permissions could look
as follows:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">django.contrib.auth.models</span> <span class="kn">import</span> <span class="n">User</span> <span class="k">as</span> <span class="n">UserModel</span>

<span class="kn">from</span> <span class="nn">adapters.graphql.graphql</span> <span class="kn">import</span> <span class="n">GraphQLAdapter</span>
<span class="kn">from</span> <span class="nn">adapters.utils</span> <span class="kn">import</span> <span class="n">generate</span>
<span class="kn">from</span> <span class="nn">django_object.actions</span> <span class="kn">import</span> <span class="n">CreateAction</span><span class="p">,</span> <span class="n">UpdateAction</span><span class="p">,</span> <span class="n">DeleteAction</span><span class="p">,</span> <span class="n">DetailAction</span><span class="p">,</span> <span class="n">ListAction</span><span class="p">,</span> <span class="n">ModelAction</span>
<span class="kn">from</span> <span class="nn">django_object.django_object</span> <span class="kn">import</span> <span class="n">DjangoObject</span>
<span class="kn">from</span> <span class="nn">django_object.permissions</span> <span class="kn">import</span> <span class="n">IsAuthenticated</span>
<span class="kn">from</span> <span class="nn">object.datatypes</span> <span class="kn">import</span> <span class="n">StringType</span>
<span class="kn">from</span> <span class="nn">object.permissions</span> <span class="kn">import</span> <span class="n">Or</span>
<span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">Post</span> <span class="k">as</span> <span class="n">PostModel</span>
<span class="kn">from</span> <span class="nn">simple_api.adapters.graphql.utils</span> <span class="kn">import</span> <span class="n">build_patterns</span>


<span class="k">class</span> <span class="nc">IsAdmin</span><span class="p">(</span><span class="n">IsAuthenticated</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">permission_statement</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">is_staff</span> <span class="ow">or</span> <span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">is_superuser</span>


<span class="k">class</span> <span class="nc">IsSelf</span><span class="p">(</span><span class="n">IsAuthenticated</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">permission_statement</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">request</span><span class="o">.</span><span class="n">user</span> <span class="o">==</span> <span class="n">obj</span>


<span class="k">class</span> <span class="nc">IsTheirs</span><span class="p">(</span><span class="n">IsAuthenticated</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">permission_statement</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">request</span><span class="o">.</span><span class="n">user</span> <span class="o">==</span> <span class="n">obj</span><span class="o">.</span><span class="n">author</span>


<span class="k">def</span> <span class="nf">set_password</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="c1"># this would set a password to request.user, but for the showcase it is not needed</span>
    <span class="k">pass</span>


<span class="k">def</span> <span class="nf">create_post</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">params</span><span class="p">[</span><span class="s2">&quot;data&quot;</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">PostModel</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">],</span> <span class="n">content</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;content&quot;</span><span class="p">],</span> <span class="n">author</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="n">DjangoObject</span><span class="p">):</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">UserModel</span>
    <span class="n">only_fields</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;username&quot;</span><span class="p">,</span> <span class="p">)</span>

    <span class="n">create_action</span> <span class="o">=</span> <span class="n">CreateAction</span><span class="p">(</span><span class="n">permissions</span><span class="o">=</span><span class="n">IsAdmin</span><span class="p">)</span>
    <span class="n">update_action</span> <span class="o">=</span> <span class="n">UpdateAction</span><span class="p">(</span><span class="n">permissions</span><span class="o">=</span><span class="n">IsAdmin</span><span class="p">)</span>
    <span class="n">delete_action</span> <span class="o">=</span> <span class="n">DeleteAction</span><span class="p">(</span><span class="n">permissions</span><span class="o">=</span><span class="n">IsAdmin</span><span class="p">)</span>
    <span class="n">detail_action</span> <span class="o">=</span> <span class="n">DetailAction</span><span class="p">(</span><span class="n">permissions</span><span class="o">=</span><span class="n">IsAdmin</span><span class="p">)</span>
    <span class="n">list_action</span> <span class="o">=</span> <span class="n">ListAction</span><span class="p">(</span><span class="n">permissions</span><span class="o">=</span><span class="n">IsAdmin</span><span class="p">)</span>

    <span class="n">custom_actions</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;changePassword&quot;</span><span class="p">:</span> <span class="n">ModelAction</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="n">StringType</span><span class="p">()},</span> <span class="n">exec_fn</span><span class="o">=</span><span class="n">set_password</span><span class="p">,</span>
                                      <span class="n">permissions</span><span class="o">=</span><span class="n">IsAuthenticated</span><span class="p">),</span>
        <span class="s2">&quot;myProfile&quot;</span><span class="p">:</span> <span class="n">ModelAction</span><span class="p">(</span><span class="n">exec_fn</span><span class="o">=</span><span class="k">lambda</span> <span class="n">request</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">,</span> <span class="n">permissions</span><span class="o">=</span><span class="n">IsAuthenticated</span><span class="p">)</span>
    <span class="p">}</span>


<span class="k">class</span> <span class="nc">Post</span><span class="p">(</span><span class="n">DjangoObject</span><span class="p">):</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">PostModel</span>

    <span class="n">create_action</span> <span class="o">=</span> <span class="n">CreateAction</span><span class="p">(</span><span class="n">exclude_fields</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;author_id&quot;</span><span class="p">,),</span> <span class="n">permissions</span><span class="o">=</span><span class="n">IsAuthenticated</span><span class="p">,</span> <span class="n">exec_fn</span><span class="o">=</span><span class="n">create_post</span><span class="p">)</span>
    <span class="n">update_action</span> <span class="o">=</span> <span class="n">UpdateAction</span><span class="p">(</span><span class="n">permissions</span><span class="o">=</span><span class="n">Or</span><span class="p">(</span><span class="n">IsAdmin</span><span class="p">,</span> <span class="n">IsTheirs</span><span class="p">))</span>
    <span class="n">delete_action</span> <span class="o">=</span> <span class="n">DeleteAction</span><span class="p">(</span><span class="n">permissions</span><span class="o">=</span><span class="n">Or</span><span class="p">(</span><span class="n">IsAdmin</span><span class="p">,</span> <span class="n">IsTheirs</span><span class="p">))</span>
    <span class="n">list_action</span> <span class="o">=</span> <span class="n">ListAction</span><span class="p">(</span><span class="n">permissions</span><span class="o">=</span><span class="n">IsAuthenticated</span><span class="p">)</span>
    <span class="n">detail_action</span> <span class="o">=</span> <span class="n">DetailAction</span><span class="p">(</span><span class="n">permissions</span><span class="o">=</span><span class="n">IsAuthenticated</span><span class="p">)</span>


<span class="n">schema</span> <span class="o">=</span> <span class="n">generate</span><span class="p">(</span><span class="n">GraphQLAdapter</span><span class="p">)</span>
<span class="n">patterns</span> <span class="o">=</span> <span class="n">build_patterns</span><span class="p">(</span><span class="s2">&quot;api/&quot;</span><span class="p">,</span> <span class="n">schema</span><span class="p">)</span>
</code></pre></div>
<p>This slightly more comprehensive example shows how one could do the forum. Let's have two
types of users: admins and the others. Everyone can view their own profile, change their own
password, create and list all posts and edit and delete their own posts. Admins on top of that
can manipulate the database of users and also their posts.</p>
<p>As we can see, for a logical expression consisting of multiple permissions, we can use
<code>And</code>, <code>Or</code> and <code>Not</code> connectors, which form a universal set of connectors, and therefore
can express any logical expression. For sure, we could write a permission class with permission 
statement covering exactly those options, but this way the code is more readable and therefore
less error-prone.</p>
<p>Besides the logical expressions, we also show how to use <code>ModelAction</code> and a custom create 
(the autor of the post is the one who sent the create request).</p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="actions.html" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Custom Actions
            </div>
          </div>
        </a>
      
      
        <a href="validators.html" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Validators
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../assets/javascripts/workers/search.fe42c31b.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.7353b375.min.js"></script>
      
    
  </body>
</html>